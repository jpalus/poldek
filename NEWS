0.19.0 (major enhancements release; not released yet, not usable yet)

New branch of poldek is 

* new package index format ('pndir') with package descriptions
  moved to separate file. Based on tndb (cdb like) DBM library



                       ==== 0.19.x ====

0.18.7 (major bugfix release; 2004/09/24)
* another stupid SIGSEGV killed (happened occasionally while dependency 
  processing)
* vfile's progress bar improvements (Patryk Zawadzki <p zawadzki at vegaballs com>)
* fix: disabled package Epoch's autopromotion while checking if it matches 
  requirement
* with rpm >= 4.1 packages with same provide are obsoleted, not just name
* fixed processing dependencies of orphaned packages 
* SIGSEGV killed while reading packages with dir/file names longer than 
  127 bytes
* fixed package ordering bug
* with --caplookup packages may be installed by specifying its capabilities, 
  i.e: "poldek --caplookup -uv foo" will install package provides 
  "foo" (if any). 

0.18.6 (major bugfix release; 2004/06/28)
* fixed broken dist installation
* fixed serious bug with  dependency processing of obsoleted packages
* fixed --rpmdef '_dbpath DIR' (do not read rpm's configs many times)   
* fix: --nofollow with --install-dist works as expected (#920)
* vfile: fixed progress bar displaying on std sized terminal (79 cols)

0.18.5 (bugfix release; 2004/05/23)
* fixed dowloading packages from apt-like sources
   
0.18.4 (bugfix && minor improvements release; 2004/05/10)

* package filenames in "non-standard" form (N-V.R.ARCH.rpm) are supported
* killed SIGSEGVs on 64bit architecture (Jakub Bogusz <qboosh at pld-linux org>)
* fixed Epoch comparison bug while checking uninstalled capabilities
* vfile: progress bar shows remaining time and transfer rate
  (Patryk Zawadzki <p zawadzki at vegaballs com>)
* fixed setting cache directory bug (Andreas Piesk <a piesk at gmx net>)
* fixed serious bug of checking unversioned dependencies 
* --ignore{arch,os} rpm options are honored
* rpm options could be passed as --rpm=OPTION too, i.e. 
  --rpm=ignorearch is equivalent of -- --rpm-ignorearch
* new cmdline options --rpm-{force,nodeps} which are passed 
  as --force and --nodeps to /bin/rpm only.
* more aggressive package upgrades - orphaned packages are upgraded 
  instead of processing its dependencies. This behavior is enabled 
  by "greedy" option. To disable put "aggressive_greedy = no" to config. 
* "greedy" upgrade mode is enabled by default
* conflicts with already installed packages are treated as resolved 
  if at least one of multiple-installed package satisfies conflict. 
  Of course RPM doesn't support such cases, so additionally --rpm-nodeps
  is needed (use with care). This behavior is enabled by default, 
  put "allow_duplicates=no" to config to disable it.
* displaying package size summary of installed package set
* --unique-pkg-names (-Q) behavior is more intuitive now - highest
  version of package are taken instead of one from highest prioritized
  source
  

0.18.3 (bugfix && improvements release; 2004/01/10)

* internal HTTP client does not prevent proxy caching 
  (Arkadiusz Miskiewicz <arekm at pld-linux org>)
* fixed bug on getting package capabilities having EVR with empty Epoch
  like "foo = :1.0-1"
* do not die if rpmdb iterator returns NULL (possibly broken rpm database).
  (Arkadiusz Miskiewicz <arekm at pld-linux org>)
* vfile_external_compress=yes in config allows gzipped indexes 
  to be used on systems with broken zlib linked in rpmio library
  (rpm 4.2 from RedHat 9, Fedora) 
* kill unaligned traps on Alpha, time_t is not 32bit long 
  (Jakub Bogusz <qboosh at pld-linux org>)
* new "promoteepoch" config and cmdline option switches Epoch comparision
  by rpm prior to 4.2.1 (thanks to Jakub Bogusz <qboosh at pld-linux org>).     
* support for RPM 4.2/4.3
* dependency processing fixes
* RPM 4.1 related fixes 

0.18.1 (major bugfix release; 2002/11/27)

* ability of creation empty indexes
* killed SIGSEV on '$ poldek -s /' (#443)
* fixed presentation of dependency tree during unistallations; information 
  about what package marks an others was completely broken 
* killed SIGSEV during dependencies processing
* fixed vfile's progress bar 
* fixed 'hold' and 'ignore' package patterns matching
* fixed bug of interactive mode; after interrupted installation
  selected packages are properly unmarked now. 


0.18 (bugfix/minor enhancements release; 2002/11/07)

* support for RPM 4.1 (with help of Artur Frysiak <wiget at pld-linux org>)

* few dependency processing improvements:
  - greedy upgrades are performed instead of marking different versions 
    of the same package,
  - with --greedy packages are selected by Obsoletes tag too.

* 'hold' and 'ignore' package masks are matched with source name, package epoch, 
   version and release, i.e. masks apache-1.3.2* or ra:apache-1* are valid ones now. 

* new: with --unique-pkg-names (-Q) packages with the same name are removed from 
  available package set

* sources are prioritized in order they are passed in cmdline, i.e. with 
  $ poldek -s /foo/bar -n pld 

  source 'foo/bar' obtains highest priority than 'pld', no matter
  what priority 'pld' has in config file. 

* fixed available package list management in interactive mode 

* AM/AC stuff cleanup and adaptation to their new versions (automake 1.7 and autoconf 2.54)
  (Artur Frysiak <wiget at pld-linux org>)

* Polish translation of manual page (GoTaR <gotar at pld-linux org>)

* fix: progress bar isn't refreshed so frequently (#367)


0.17.9 (bugfix/minor enhancements release; 2002/09/20)

* Obsoletes tag is used during upgrades (if --greedy is set)
* fixed dependency EVR matching
* source priorities (new 'pri' source option) -- if the same package is available
  in more than one source than program takes package from source with highest priority.
  If priorities aren't set sources are prioritized in order they are appear in config file.
* bugfix: -s URL works fine 


0.17.8 (major bugfix release; 2002/08/18)

* package installation is verified with rpm database if rpm reports failure
* fixed obsoletes matching (Jakub Bogusz <qboosh at pld-linux org>)
* improved and fixed file based conflicts detection
* fixed size units display (GoTaR <gotar at poczta.onet.pl>)


0.17.7 (bugfix release; 2002/06/14)

* improved package conflicts resolving
* split: SIGSEV killed 
* fixed package removal  
* shell: search: fixed default options processing
* another "desynchronized index" bug is fixed
* fixed Epoch matching 
* vhttp: program doesn't die on doubled HTTP headers 


0.17.6 (minor bugfix release; 2002/06/03)

* new "--ignore" option makes packages invisible to the poldek 
* "hdrl" sources can be refreshed with --upa 
* fixed package removal: don't follow dependencies if only one of 
  multiple-installed packages is intended to uninstall 
* shell: search: pattern is treated as shell wildcard (matched by fnmatch(3)) 
  by default; previous behavior (Perl regular expression matching) is available
  with --perlre or "rsearch" alias. 
* fixed package auto-selection among equivalents: dependencies aren't 
  verified strictly during package scoring. 
* fixed bug of equivalent package selection (<Enter> was select first, not
  default package).
* shell: with 'upgrade' and 'greedy-upgrade' commands only upgradeable 
  packages are auto-completed.  


0.17.5 (minor bugfix release; 2002/05/15)

* about 75% less memory is used by incremental update of packages.dir 
* improved package auto-selection among equivalents: package which marks
  less packages to install is preferred
* vftp: fixed logging in when server doesn't ask for password 
  (Przemyslaw Frasunek <venglin at freebsd.lublin.pl>)
* bugfix: root directory (--rootdir) is always passed to rpm as absolute path  
* shell: desc: file mode is displayed in human readable form
* fixed vfjuggle: packages.dir.md* are copied to hdd too
* few SIGSEVs killed on "search" command when APT's pkglist file 
  is used as package index (thanks to Gustavo Niemeyer <niemeyer at conectiva.com>)


0.17.4 (bugfix/minor enhancements release; 2002/05/06)

* new (major) modes:
   --downgrade downgrade given packages
   --reinstall major mode reinstalls given packages
   -e,--erase removes packages with its reverse dependent ones

* shell: fixed C-c handling (connecting phase can be interrupted)
* improved splitting: 
  - packages are auto-rearranged on chunk's boundaries 
  - masks with priority < 0 are always applied at first
* killed SIGSEV on long URL's basenames
* source prefix is handled properly with --mkidx*

0.17.3

* supported "hdlist" files (simple raw RPM package headers list) as 
  sources. These files are used by APT-RPM as they are widely supported 
  by RPM based distributions. However this format isn't optimal, now 
  poldek is useable with almost every RPM based distro without poldek's 
  native indexes support.
	
  See poldekrc.sample-{rh,mdk} for examples of RedHat and Mandrake 
  configuration.

* new "type=[pidx|dir|hdrl]" source option lets define source type in
  configuration file. Needed to distinguish "hdlist" ('hdrl' type) from
  "native" index format. Cmdline options: --source for 'pidx', --sdir for
  'dir' and  --shdrl for 'hdrl'.

* support for GPG/PGP signatures verification (new "gpg" and "pgp" 
  source options). Verification works well with rpm >= 4.0.4 or patched 
  PLD's rpm 4.0.2 package (release 62). 

* simple HTTP client (with partly HTTP/1.1 support), it is used for 
  HTTP downloads; cURL backend is not compiled by default. 

* added IPv6 support to internal FTP client

* new "--clean" and "--clean-whole" options for cache directory
  cleanup

* URLs with user and password (ftp://user:passwd at host:port/path/ syntax) 
  are supported (Andreas Piesk <a.piesk at gmx.net>)

* new "ftp_sysuser_as_anon_passwd" option causes sending 
  login at hostname as anonymous FTP password 

* new "noautoup" source option tells poldek to do not update 
  source by default. 

* shell: added long listig format of file list (poldek> desc -ll)

* misc fixes to compile on SuSE

* fixed rpm 3.x support (with help of Roger Luethi <rl at hellgate.ch>)

* fixed and improved handling of bool configuration options, 
  added on/off and enable/disable to the list of valid choices
  (Andreas Piesk <a.piesk at gmx.net>)

* fixed detection of file based conflicts between available packages. 

* packages with capabilities with the same name and different
  versions are handled properly

* misc fixes to compile and work with glibc2.1 (with 
  help of Andreas Piesk <a.piesk at gmx.net>) 

* installation of multiple instances of package is allowed (by poldek -i)

* fixes and improvements of dependency resolution:
  - fixed greedy mode  
  - fixed handling package conflicts added by poldek  
  - faster dependency checking

* German translation (Andreas Piesk <a.piesk at gmx.net>)

* various bugs are fixed:
   - double '/' in paths handling
   - huge mem leak on --update 
   - ambiguous p_open() flags (Michal Moskal <malekith at pld-linux org>)
   - removed [v]snprintf() (wrong) usage; trurlib's n_[v]snprintf() 
     are used instead
   - automake/autoconf fixes (Artur Frysiak <wiget at pld-linux org>)
   - many minor fixes (thanks to Andreas Piesk <a.piesk at gmx.net>)

0.17.2
* "ported" to RedHat 7.2 (with rpm 4.0.4)
* install-dist: --force forces installation of broken package sets
* corrected package installation progress bar 
	(Michal Moskal <malekith at pld-linux org>)
* install-dist: log INST-{OK,ERR} for PLD Installer
	(Michal Moskal <malekith at pld-linux org>)
* --dump* works properly
* vftp: fixed error handling


0.17.1
* ftp: fixed multiline responses handling

0.17 (beta release):
* added support for package.dir's "patches" (new option --update-whole
  updates whole index; --update looking for patches first)

* packages are divided into groups before install and each group 
  is installed separately; this ensures that broken dependencies in 
  one of group doesn't affect the rest. 

* improved dependency processing:
  - package may be marked for install as a consequence of conflict

  - dependency loops detected during install time are noticed in human 
    readable form

  - improved "greedy" selection - if foo-VER is upgraded, then eventual 
    "greedy" marks will mark foo-{devel,static,etc} in version VER too.

* added simple ftp client; it is used for FTP downloads by default

* shell: 
  - db package list is cached what speeds up program start
  - ls: long listings are passed to $PAGER program (default is "less")
  - ls: new switches: -n (list package names only), -G (list group)
        and -O (show package summaries)

* added log file support (--log option)

* sources may be configured as name and URL pair and later 
  selected by that name (new --sn|-n option). 
  With --sl|-l program lists all configured sources.
  
* packages.dir's integrity is verified before each loading
  what prevents program SIGSEVs on load broken indexes

* changed default cache directory to $HOME/.poldek-cache

* package MD5 sums are verified before install

* with --ask program confirms each installation (confirm_install config 
  option) and allows the user to choose among equivalent packages 
  (choose_equivalents_manually config option)
 
* few (nice) improvements and (not so nice ;-) bugs fixed


0.16 (stable release):
* fixed removable media support in non-install-dist modes
* shell: uninstall: fix: don't remove pkg from install list if removal fails

0.15.9:
* shell:
   - desc: added package file size display
   - search: added Group search
   - install: unhidden --mercy
   - uninstall: fix: don't remove pkg from install list if --test is used
   - added -h opt. to all commands
* removed GCC's nested functions usage -- seems that it causes SIGSEVs on
   some machines (Arkadiusz Patyk <areq at pld-linux org>)
* fix: don't include trailing whitespaces in config values

0.15.8:
* curl: disabled timeouts, cURL's timeout it's a time to transfer file 
* curl: amount and total sizes are displayed in progress bar
* fix: enabled --hold 
* fix: SIGSEV killed when pkg description requested while pkg index
       doesn't contain package descriptions at all
* shell: fixed installed package list management
* curl: fixed progress bar if total file size is unknown 
  (Michal Moskal <malekith at pld-linux org>)
* "mercy" mode bugfix

0.15.7:
* downloaded packages are removed after successful installation by default
  (keep_downloads=yes in config can change to previous behavior)
* changed semantics of --test: -t causes poldek's checks only, 
  -tt turns on tests performed by rpm too.
* "mercy" dependency checking mode may be enabled in config
* added workarounds and traps for (probably) curl's bugs
* "update" option can be used with other commands simultaneously
* shell mode is now the default
* shell: added greedy option to install cmd


0.15.6:
* package priorities could be used during installation too
  ("/etc/poldek-pkgsplit.conf" or "/etc/poldek-pri.conf" is used by default)
* added global config /etc/poldek.conf usage 
* fixed prereq loop detection
* added '@' to list of valid characters in package filename
  (Rafal Kleger-Rudomin  <klakier at pld-linux org>)
* vfjuggle: sed is used instead of awk (Rafal Kleger-Rudomin  <klakier at pld-linux org>)
* shell: ls: fixed packages sorting 
* minor bugfixes 

0.15.5:
* another bugfix of dependency processing
* shell: new ls options: -t, -T, -r
* added --shcmd option which allows to execute poldek's shell command
  without entering shell mode 
* detect if stdout is connected to a terminal and display progress 
  bars accordingly.
* install-dist: retry to fetch packages if connection is down

0.15.4:
* conflicts detection bugfix 

0.15.3:
* another bugfix of dependency processing
* splitted verify option to verify, verify-conflicts and verify-fileconflicts
* more user friendly output on package set verification

0.15.2:
- added "hold" and "greedy" commands 
- added FIRST_FREE_SPACE param to split option
- fixed bug of dependency processing
- minor fixes 

0.15.1:
* spliting: changed packages.chunk* format: full package filenames
  are printed and removed comments. 
* bugfixes 

0.15:

* updated vfcurl progress bar handling (according to curl 7.8)
* better index format version handling (minor.major ver schema), current
  version is 1.0, older versions not supported...  
* package's integer fields are stored in binary form, groups 
  are stored as separate, global tag
* remote indexes are verified after download
* added checking of package architecture and OS
* added support for removable media (vfjuggle script is added)
* added package file size to index (for spliting)
* added "nofollow" option to cmdline and "follow" one to config	
* renamed "freshen" to "fresh" and changed its semantics, now
  rpm's "--freshen" <=> "--nofollow --fresh"

* changed default index name to "packages.dir"
* added mkpackagedir script
* added spliting (--split* options)
* package-set file syntax: changed "maybe" mark to '~' ('!' still work, 
  but obsoleted)
* shell: 
   - added aliases for commands ("ll", "llu", "freshen", "what-requires", etc)
   - better completition context switching
   - extended "desc" and "search" commands -- almost all
     package fields could be specified
   - colorized output
* bugfixes (thanks to Rafal Kleger-Rudomin <klakier at pld-linux org> and 
	     Michal Moskal <malekith at pld-linux org>)

0.14:

* support for multiple sources
* Packages SHA1 digest is computed and checked (Packages.md is created) 
* capabilities/requirement are stored in binary form (v0.4 of Packages format)
* default name (Packages[.gz]) is used if only dir is given 
  as source (i.e. it's last character is '/') 
* shell: both installed and available packages list is maintained properly 
  during installs/unistalls without reloading rpm database 
* shell: added "search" command
* removed unused support for rpmidx (aka tocfile)
* cleanup && bugfixes 


0.13:

* support for rpm 4.0.2 pre/post requirements
* readline 4.2 updates
* vfile: added curl backend (curl >= 7.7.4-pre1 is needed)
* added --nodesc option for index creation (Michal Moskal <malekith at pld-linux org>)
* rpmvercmp returns 2 instead of -1
* file names are stored without trailing '\0' (saves about 100 kB disk space)
* temporary dir may be set by $TMPDIR
* fixed checking dependencies of unistalled packages
* shell: added "desc" command
* fixed a lot of bugs (with help of Michal Moskal <malekith at pld-linux org>)
