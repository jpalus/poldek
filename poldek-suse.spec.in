# $Revision$, $Date$
Name:		poldek
Summary:	RPM packages management helper tool
Version:	@VERSION@
Release:	1
License:	GPL
Group:		Applications/System
Source0:	http://team.pld.org.pl/~mis/poldek/download/%{name}/%{name}-%{version}.tar.gz
URL:		http://team.pld.org.pl/~mis/poldek/
Requires:	/bin/rpm
BuildRequires:	bzip
BuildRequires:	db-devel >= 3.1.14
BuildRequires:	rpm-devel >= 4.0
BuildRequires:	popt
BuildRequires:	openssl-devel
BuildRequires:	readline-devel
BuildRequires:	zlib
BuildRequires:	/usr/bin/pod2man
BuildRequires:	pcre
BuildRoot:	/tmp/%{name}-%{version}

%description
poldek is an RPM package management tool which allows you to easily
perform package verification, installation (including system
installation from scratch), upgrading, and removal.

Program can be used in batch (like apt-get from Debian's
APT) or interactive mode. The interactive mode puts you into a
readline interface with command line autocompletion and history,
similar to the shell mode of Perl's CPAN.

%prep
%setup -q

%build
%configure
%{__make}

%install
rm -rf $RPM_BUILD_ROOT
install -d $RPM_BUILD_ROOT%{_sysconfdir}

%{__make} install DESTDIR=$RPM_BUILD_ROOT

sed "s/i686/%{_target_cpu}/g" < poldekrc.sample > $RPM_BUILD_ROOT/etc/%{name}.conf

gzip -9nf README* *sample* NEWS TODO

%clean
rm -rf $RPM_BUILD_ROOT

%files
%defattr(644,root,root,755)
%attr(644,root,root) %config(noreplace) %verify(not md5 size mtime) %{_sysconfdir}/%{name}.conf
%attr(755,root,root) %{_bindir}/*
%{_mandir}/man1/%{name}*
%doc *.gz

%changelog
* Wed Apr 3 2002 Roger Luethi <rl@hellgate.ch>
- This is basically the vanilla poldek spec file with Requirements changed
  to work on SuSE 7.3
